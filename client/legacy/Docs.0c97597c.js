import{_ as n,a as t,b as e,c as i,i as s,s as o,d as c,S as r,e as a,q as l,g as u,h as f,u as h,j as v,R as d,k as _,v as m,m as g,o as p,K as w,A as $,B as b,L as E,H as j,I as y,T as B,w as I,C as A,U as L,V as k,W as S}from"./index.2acc4970.js";import{I as T}from"./Icon.4f7f7084.js";function D(n,t,e){var i=Object.create(n);return i.subsection=t[e],i}function C(n,t,e){var i=Object.create(n);return i.section=t[e],i}function N(n){var t,e,i=new T({props:{name:"arrow-right"}});return{c:function(){t=a("div"),i.$$.fragment.c(),this.h()},l:function(n){t=u(n,"DIV",{class:!0},!1);var e=f(t);i.$$.fragment.l(e),e.forEach(v),this.h()},h:function(){_(t,"class","icon-container svelte-mm3tjv")},m:function(n,s){g(n,t,s),w(i,t,null),e=!0},i:function(n){e||($(i.$$.fragment,n),e=!0)},o:function(n){b(i.$$.fragment,n),e=!1},d:function(n){n&&v(t),E(i)}}}function O(n){var t,e,i=new T({props:{name:"arrow-right"}});return{c:function(){t=a("div"),i.$$.fragment.c(),this.h()},l:function(n){t=u(n,"DIV",{class:!0},!1);var e=f(t);i.$$.fragment.l(e),e.forEach(v),this.h()},h:function(){_(t,"class","icon-container svelte-mm3tjv")},m:function(n,s){g(n,t,s),w(i,t,null),e=!0},i:function(n){e||($(i.$$.fragment,n),e=!0)},o:function(n){b(i.$$.fragment,n),e=!1},d:function(n){n&&v(t),E(i)}}}function V(n){var t,e,i,s,o,c,r=n.subsection.title+"",w=n.subsection.slug===n.active_section&&O();return{c:function(){t=a("a"),i=l(),w&&w.c(),this.h()},l:function(n){t=u(n,"A",{class:!0,href:!0,"data-level":!0},!1);var e=f(t);i=h(e),w&&w.l(e),e.forEach(v),this.h()},h:function(){e=new d(r,i),_(t,"class","subsection svelte-mm3tjv"),_(t,"href",s=n.dir+"#"+n.subsection.slug),_(t,"data-level",o=n.subsection.level),m(t,"active",n.subsection.slug===n.active_section)},m:function(n,s){g(n,t,s),e.m(t),p(t,i),w&&w.m(t,null),c=!0},p:function(n,i){c&&!n.sections||r===(r=i.subsection.title+"")||e.p(r),i.subsection.slug===i.active_section?w?$(w,1):((w=O()).c(),$(w,1),w.m(t,null)):w&&(j(),b(w,1,1,(function(){w=null})),y()),c&&!n.dir&&!n.sections||s===(s=i.dir+"#"+i.subsection.slug)||_(t,"href",s),c&&!n.sections||o===(o=i.subsection.level)||_(t,"data-level",o),(n.sections||n.active_section)&&m(t,"active",i.subsection.slug===i.active_section)},i:function(n){c||($(w),c=!0)},o:function(n){b(w),c=!1},d:function(n){n&&v(t),w&&w.d()}}}function R(n){for(var t,e,i,s,o,c,r,w,E=n.section.metadata.title+"",I=n.section.slug===n.active_section&&N(),A=n.section.subsections,L=[],k=0;k<A.length;k+=1)L[k]=V(D(n,A,k));var S=function(n){return b(L[n],1,1,(function(){L[n]=null}))};return{c:function(){t=a("li"),e=a("a"),s=l(),I&&I.c(),c=l();for(var n=0;n<L.length;n+=1)L[n].c();r=l(),this.h()},l:function(n){t=u(n,"LI",{class:!0},!1);var i=f(t);e=u(i,"A",{class:!0,href:!0},!1);var o=f(e);s=h(o),I&&I.l(o),o.forEach(v),c=h(i);for(var a=0;a<L.length;a+=1)L[a].l(i);r=h(i),i.forEach(v),this.h()},h:function(){i=new d(E,s),_(e,"class","section svelte-mm3tjv"),_(e,"href",o=n.dir+"#"+n.section.slug),m(e,"active",n.section.slug===n.active_section),_(t,"class","svelte-mm3tjv")},m:function(n,o){g(n,t,o),p(t,e),i.m(e),p(e,s),I&&I.m(e,null),p(t,c);for(var a=0;a<L.length;a+=1)L[a].m(t,null);p(t,r),w=!0},p:function(n,s){if(w&&!n.sections||E===(E=s.section.metadata.title+"")||i.p(E),s.section.slug===s.active_section?I?$(I,1):((I=N()).c(),$(I,1),I.m(e,null)):I&&(j(),b(I,1,1,(function(){I=null})),y()),w&&!n.dir&&!n.sections||o===(o=s.dir+"#"+s.section.slug)||_(e,"href",o),(n.sections||n.active_section)&&m(e,"active",s.section.slug===s.active_section),n.dir||n.sections||n.active_section){var c;for(A=s.section.subsections,c=0;c<A.length;c+=1){var a=D(s,A,c);L[c]?(L[c].p(n,a),$(L[c],1)):(L[c]=V(a),L[c].c(),$(L[c],1),L[c].m(t,r))}for(j(),c=A.length;c<L.length;c+=1)S(c);y()}},i:function(n){if(!w){$(I);for(var t=0;t<A.length;t+=1)$(L[t]);w=!0}},o:function(n){b(I),L=L.filter(Boolean);for(var t=0;t<L.length;t+=1)b(L[t]);w=!1},d:function(n){n&&v(t),I&&I.d(),B(L,n)}}}function q(n){for(var t,e,i,s=n.sections,o=[],c=0;c<s.length;c+=1)o[c]=R(C(n,s,c));var r=function(n){return b(o[n],1,1,(function(){o[n]=null}))};return{c:function(){t=a("ul");for(var n=0;n<o.length;n+=1)o[n].c();this.h()},l:function(n){t=u(n,"UL",{class:!0},!1);for(var e=f(t),i=0;i<o.length;i+=1)o[i].l(e);e.forEach(v),this.h()},h:function(){_(t,"class","reference-toc svelte-mm3tjv"),i=[I(t,"mouseenter",n.mouseenter_handler),I(t,"mouseleave",n.mouseleave_handler)]},m:function(i,s){g(i,t,s);for(var c=0;c<o.length;c+=1)o[c].m(t,null);n.ul_1_binding(t),e=!0},p:function(n,e){if(n.sections||n.dir||n.active_section){var i;for(s=e.sections,i=0;i<s.length;i+=1){var c=C(e,s,i);o[i]?(o[i].p(n,c),$(o[i],1)):(o[i]=R(c),o[i].c(),$(o[i],1),o[i].m(t,null))}for(j(),i=s.length;i<o.length;i+=1)r(i);y()}},i:function(n){if(!e){for(var t=0;t<s.length;t+=1)$(o[t]);e=!0}},o:function(n){o=o.filter(Boolean);for(var t=0;t<o.length;t+=1)b(o[t]);e=!1},d:function(e){e&&v(t),B(o,e),n.ul_1_binding(null),A(i)}}}function z(n,t,e){var i,s=t.dir,o=void 0===s?"":s,c=t.sections,r=void 0===c?[]:c,a=t.active_section,l=void 0===a?null:a,u=t.show_contents,f=t.prevent_sidebar_scroll,h=void 0!==f&&f;L((function(){if(!(h||u&&window.innerWidth<832)){var n=i.querySelector(".active");if(n){var t=n.getBoundingClientRect(),e=t.top,s=t.bottom,o=window.innerHeight-200;e>o?i.parentNode.scrollBy({top:e-o,left:0,behavior:"smooth"}):s<200&&i.parentNode.scrollBy({top:s-200,left:0,behavior:"smooth"})}}}));return n.$set=function(n){"dir"in n&&e("dir",o=n.dir),"sections"in n&&e("sections",r=n.sections),"active_section"in n&&e("active_section",l=n.active_section),"show_contents"in n&&e("show_contents",u=n.show_contents),"prevent_sidebar_scroll"in n&&e("prevent_sidebar_scroll",h=n.prevent_sidebar_scroll)},{dir:o,sections:r,active_section:l,show_contents:u,prevent_sidebar_scroll:h,ul:i,ul_1_binding:function(n){k[n?"unshift":"push"]((function(){e("ul",i=n)}))},mouseenter_handler:function(){return e("prevent_sidebar_scroll",h=!0)},mouseleave_handler:function(){return e("prevent_sidebar_scroll",h=!1)}}}var H=function(a){function l(n){var r;return t(this,l),r=e(this,i(l).call(this)),s(c(r),n,z,q,o,["dir","sections","active_section","show_contents","prevent_sidebar_scroll"]),r}return n(l,r),l}(),U=function(){return window.location.hash.slice(1)};function x(n,t,e){var i=Object.create(n);return i.section=t[e],i}function W(n){var t,e,i,s,o,c,r,m,j,y,B,I,A,L,k,S,D,C,N=n.section.metadata.title+"",O=n.section.html+"",V=new T({props:{name:"edit"}});return{c:function(){t=a("section"),e=a("h2"),i=a("span"),o=l(),c=a("a"),m=l(),y=l(),B=a("small"),I=a("a"),V.$$.fragment.c(),L=l(),S=l(),this.h()},l:function(n){t=u(n,"SECTION",{"data-id":!0,class:!0},!1);var s=f(t);e=u(s,"H2",{class:!0},!1);var r=f(e);i=u(r,"SPAN",{class:!0,id:!0},!1),f(i).forEach(v),o=h(r),c=u(r,"A",{href:!0,class:!0,"aria-hidden":!0},!1),f(c).forEach(v),m=h(r),y=h(r),B=u(r,"SMALL",{class:!0},!1);var a=f(B);I=u(a,"A",{href:!0,title:!0,class:!0},!1);var l=f(I);V.$$.fragment.l(l),l.forEach(v),a.forEach(v),r.forEach(v),L=h(s),S=h(s),s.forEach(v),this.h()},h:function(){_(i,"class","offset-anchor"),_(i,"id",s=n.section.slug),_(c,"href",r=n.dir+"#"+n.section.slug),_(c,"class","anchor"),_(c,"aria-hidden",""),j=new d(N,y),_(I,"href",A="https://github.com/"+n.owner+"/site/edit/master"+n.path+"/"+n.dir+"/"+n.section.file),_(I,"title",n.edit_title),_(I,"class","svelte-563ye8"),_(B,"class","svelte-563ye8"),_(e,"class","svelte-563ye8"),k=new d(O,S),_(t,"data-id",D=n.section.slug),_(t,"class","svelte-563ye8")},m:function(n,s){g(n,t,s),p(t,e),p(e,i),p(e,o),p(e,c),p(e,m),j.m(e),p(e,y),p(e,B),p(B,I),w(V,I,null),p(t,L),k.m(t),p(t,S),C=!0},p:function(n,e){C&&!n.sections||s===(s=e.section.slug)||_(i,"id",s),C&&!n.dir&&!n.sections||r===(r=e.dir+"#"+e.section.slug)||_(c,"href",r),C&&!n.sections||N===(N=e.section.metadata.title+"")||j.p(N),(!C||n.owner||n.path||n.dir||n.sections)&&A!==(A="https://github.com/"+e.owner+"/site/edit/master"+e.path+"/"+e.dir+"/"+e.section.file)&&_(I,"href",A),C&&!n.edit_title||_(I,"title",e.edit_title),C&&!n.sections||O===(O=e.section.html+"")||k.p(O),C&&!n.sections||D===(D=e.section.slug)||_(t,"data-id",D)},i:function(n){C||($(V.$$.fragment,n),C=!0)},o:function(n){b(V.$$.fragment,n),C=!1},d:function(n){n&&v(t),E(V)}}}function K(n){for(var t,e,i,s,o,c,r,d,L=n.sections,k=[],S=0;S<L.length;S+=1)k[S]=W(x(n,L,S));var D=function(n){return b(k[n],1,1,(function(){k[n]=null}))},C=new H({props:{dir:n.dir,sections:n.sections,active_section:n.active_section,show_contents:n.show_contents}}),N=new T({props:{name:n.show_contents?"close":"menu"}});return{c:function(){t=a("div");for(var n=0;n<k.length;n+=1)k[n].c();e=l(),i=a("aside"),s=a("div"),C.$$.fragment.c(),o=l(),c=a("button"),N.$$.fragment.c(),this.h()},l:function(n){t=u(n,"DIV",{class:!0},!1);for(var r=f(t),a=0;a<k.length;a+=1)k[a].l(r);r.forEach(v),e=h(n),i=u(n,"ASIDE",{class:!0},!1);var l=f(i);s=u(l,"DIV",{class:!0},!1);var d=f(s);C.$$.fragment.l(d),d.forEach(v),o=h(l),c=u(l,"BUTTON",{class:!0},!1);var _=f(c);N.$$.fragment.l(_),_.forEach(v),l.forEach(v),this.h()},h:function(){_(t,"class","content listify svelte-563ye8"),_(s,"class","sidebar svelte-563ye8"),_(c,"class","svelte-563ye8"),_(i,"class","sidebar-container svelte-563ye8"),m(i,"open",n.show_contents),d=[I(s,"click",n.click_handler),I(c,"click",n.click_handler_1)]},m:function(a,l){g(a,t,l);for(var u=0;u<k.length;u+=1)k[u].m(t,null);n.div0_binding(t),g(a,e,l),g(a,i,l),p(i,s),w(C,s,null),p(i,o),p(i,c),w(N,c,null),n.aside_1_binding(i),r=!0},p:function(n,e){if(n.sections||n.owner||n.path||n.dir||n.edit_title){var s;for(L=e.sections,s=0;s<L.length;s+=1){var o=x(e,L,s);k[s]?(k[s].p(n,o),$(k[s],1)):(k[s]=W(o),k[s].c(),$(k[s],1),k[s].m(t,null))}for(j(),s=L.length;s<k.length;s+=1)D(s);y()}var c={};n.dir&&(c.dir=e.dir),n.sections&&(c.sections=e.sections),n.active_section&&(c.active_section=e.active_section),n.show_contents&&(c.show_contents=e.show_contents),C.$set(c);var r={};n.show_contents&&(r.name=e.show_contents?"close":"menu"),N.$set(r),n.show_contents&&m(i,"open",e.show_contents)},i:function(n){if(!r){for(var t=0;t<L.length;t+=1)$(k[t]);$(C.$$.fragment,n),$(N.$$.fragment,n),r=!0}},o:function(n){k=k.filter(Boolean);for(var t=0;t<k.length;t+=1)b(k[t]);b(C.$$.fragment,n),b(N.$$.fragment,n),r=!1},d:function(s){s&&v(t),B(k,s),n.div0_binding(null),s&&(v(e),v(i)),E(C),E(N),n.aside_1_binding(null),A(d)}}}function M(n,t,e){var i,s,o,c=t.owner,r=void 0===c?"caos":c,a=t.project,l=void 0===a?"site":a,u=t.path,f=void 0===u?"/content":u,h=t.dir,v=void 0===h?"zitadel":h,d=t.edit_title,_=void 0===d?"edit this section":d,m=t.sections,g=!1;S((function(){var n,t=s.querySelectorAll("[id]:not([data-scrollignore])"),o=function(){var e=s.getBoundingClientRect().top;n=[].map.call(t,(function(n){return n.getBoundingClientRect().top-e}))},c=U(),r=function(){for(var s=-window.scrollY,o=t.length;o--;)if(n[o]+s<40){var r=t[o].id;return void(r!==c&&(e("active_section",i=r),c=r))}};window.addEventListener("scroll",r,!0),window.addEventListener("resize",o,!0);var a=[setTimeout(o,1e3),setTimeout(r,5e3)];return o(),r(),function(){window.removeEventListener("scroll",r,!0),window.removeEventListener("resize",o,!0),a.forEach((function(n){return clearTimeout(n)}))}}));return n.$set=function(n){"owner"in n&&e("owner",r=n.owner),"project"in n&&e("project",l=n.project),"path"in n&&e("path",f=n.path),"dir"in n&&e("dir",v=n.dir),"edit_title"in n&&e("edit_title",_=n.edit_title),"sections"in n&&e("sections",m=n.sections)},{owner:r,project:l,path:f,dir:v,edit_title:_,sections:m,active_section:i,container:s,aside:o,show_contents:g,div0_binding:function(n){k[n?"unshift":"push"]((function(){e("container",s=n)}))},click_handler:function(){return e("show_contents",g=!1)},click_handler_1:function(){return e("show_contents",g=!g)},aside_1_binding:function(n){k[n?"unshift":"push"]((function(){e("aside",o=n)}))}}}var P=function(a){function l(n){var r;return t(this,l),r=e(this,i(l).call(this)),s(c(r),n,M,K,o,["owner","project","path","dir","edit_title","sections"]),r}return n(l,r),l}();export{P as D};
